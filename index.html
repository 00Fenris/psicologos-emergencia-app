<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Psicólogos Emergencia</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="firebaseConfig.js"></script>
  <script src="app.js" defer></script>
</head>
<body>
  <!-- Bloque de login y registro -->
  <div id="login" class="center">
    <div class="card">
      <h2>Acceso</h2>
      <input id="email" type="email" placeholder="Email" />
      <input id="password" type="password" placeholder="Contraseña" />
      <select id="rol">
        <option value="psicologo">Psicólogo</option>
        <option value="coordinador">Coordinador</option>
      </select>
      <button id="btnLogin">Entrar</button>
      <button id="btnRegister">Registrarse</button>
      <div id="loginError" style="color:red"></div>
    </div>
  </div>
  <!-- Página de acceso -->
  <div id="acceso" class="center">
    <div class="card">
      <h2>¿Cómo quieres acceder?</h2>
      <button id="btnPsicologo">Soy Psicólogo</button>
      <button id="btnCoordinador">Soy Coordinador</button>
    </div>
  </div>
  <!-- Vista Psicólogo -->
  <div id="vistaPsicologo" class="hidden">
    <header>
      <h1>Registro de disponibilidad</h1>
      <button id="btnSalirPsicologo" style="float:right;background:#718096;">Salir</button>
    </header>
    <div class="card" style="max-width:400px;margin:0 auto;">
      <form id="formPsico" autocomplete="off">
        <label for="nombre">Nombre completo</label>
        <input id="nombre" name="nombre" type="text" required />
        <label for="telefono">Teléfono</label>
        <input id="telefono" name="telefono" type="tel" placeholder="Ej: +34 600 123 456" required />
        <label for="zona">Zona</label>
        <input id="zona" name="zona" type="text" required autocomplete="off" />
        <div id="zona-sugerencias" class="sugerencias"></div>
        <label for="semana">Semana</label>
        <input id="semana" name="semana" type="week" required />
        <label for="turno">Turno</label>
        <select id="turno" name="turno" required>
          <option value="">-- Selecciona un turno --</option>
          <option>Mañana</option>
          <option>Tarde</option>
          <option>Noche</option>
        </select>
        <label for="notas">Notas (opcional)</label>
        <input id="notas" name="notas" type="text" />
        <button type="submit">Guardar</button>
      </form>
    </div>
    <div class="card" style="max-width:400px;margin:20px auto;">
      <h3>Chat con Coordinador</h3>
      <div id="chatPsico" class="chat"></div>
      <input id="msgPsico" type="text" placeholder="Escribe tu mensaje..." style="width:80%" />
      <button id="btnSendPsico" class="small">Enviar</button>
    </div>
  </div>
  <!-- Vista Coordinador -->
  <div id="vistaCoordinador" class="hidden">
    <header>
      <h1>Coordinador — Vista</h1>
      <button id="btnSalirCoordinador" style="float:right;background:#718096;">Salir</button>
    </header>
    <div class="card" style="max-width:600px;margin:0 auto;">
      <label for="filtroDia">Filtrar por día</label>
      <input id="filtroDia" type="date" />
      <label for="filtroZona">Filtrar por zona</label>
      <input id="filtroZona" type="text" autocomplete="off" />
      <div id="filtroZona-sugerencias" class="sugerencias"></div>
      <label for="filtroTurno">Filtrar por turno</label>
      <select id="filtroTurno">
        <option value="">-- Todos los turnos --</option>
        <option>Mañana</option>
        <option>Tarde</option>
        <option>Noche</option>
      </select>
      <div style="display:flex;gap:8px;margin-top:10px">
        <button id="btnVerTodos" class="small">Ver todos</button>
        <button id="btnDescargarPDF" class="small" style="background:#38a169">Descargar PDF</button>
        <button id="btnBorrarTodo" class="small btn-borrar-todo">Borrar todo</button>
      </div>
      <hr />
      <div id="listadoContainer" style="max-height:460px;overflow:auto"></div>
    </div>
    <div class="card" style="max-width:600px;margin:20px auto;">
      <h3>Chat con Psicólogos</h3>
      <label for="selectPsico">Selecciona psicólogo:</label>
      <select id="selectPsico" style="width:100%;margin-bottom:10px"></select>
      <div id="chatCoord" class="chat"></div>
      <input id="msgCoord" type="text" placeholder="Escribe tu mensaje..." style="width:80%" />
      <button id="btnSendCoord" class="small">Enviar</button>
    </div>
  </div>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Psicólogos Emergencia</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="app.js" defer></script>
</head>
<body>
  <!-- Bloque de login y registro -->
  <div id="login" class="center">
    <div class="card">
      <h2>Acceso</h2>
      <input id="email" type="email" placeholder="Email" />
      <input id="password" type="password" placeholder="Contraseña" />
      <select id="rol">
        <option value="psicologo">Psicólogo</option>
        <option value="coordinador">Coordinador</option>
      </select>
      <button id="btnLogin">Entrar</button>
      <button id="btnRegister">Registrarse</button>
      <div id="loginError" style="color:red"></div>
    </div>
  </div>
  <!-- Página de acceso -->
  <div id="acceso" class="center">
    <div class="card">
      <h2>¿Cómo quieres acceder?</h2>
      <button id="btnPsicologo">Soy Psicólogo</button>
      <button id="btnCoordinador">Soy Coordinador</button>
    </div>
  </div>
  <!-- Vista Psicólogo -->
  <div id="vistaPsicologo" class="hidden">
    <header>
      <h1>Registro de disponibilidad</h1>
      <button id="btnSalirPsicologo" style="float:right;background:#718096;">Salir</button>
    </header>
    <div class="card" style="max-width:400px;margin:0 auto;">
      <form id="formPsico" autocomplete="off">
        <label for="nombre">Nombre completo</label>
        <input id="nombre" name="nombre" type="text" required />
        <label for="telefono">Teléfono</label>
        <input id="telefono" name="telefono" type="tel" placeholder="Ej: +34 600 123 456" required />
        <label for="zona">Zona</label>
        <input id="zona" name="zona" type="text" required autocomplete="off" />
        <div id="zona-sugerencias" class="sugerencias"></div>
        <label for="semana">Semana</label>
        <input id="semana" name="semana" type="week" required />
        <label for="turno">Turno</label>
        <select id="turno" name="turno" required>
          <option value="">-- Selecciona un turno --</option>
          <option>Mañana</option>
          <option>Tarde</option>
          <option>Noche</option>
        </select>
        <label for="notas">Notas (opcional)</label>
        <input id="notas" name="notas" type="text" />
        <button type="submit">Guardar</button>
      </form>
    </div>
    <div class="card" style="max-width:400px;margin:20px auto;">
      <h3>Chat con Coordinador</h3>
      <div id="chatPsico" class="chat"></div>
      <input id="msgPsico" type="text" placeholder="Escribe tu mensaje..." style="width:80%" />
      <button id="btnSendPsico" class="small">Enviar</button>
    </div>
  </div>
  <!-- Vista Coordinador -->
  <div id="vistaCoordinador" class="hidden">
    <header>
      <h1>Coordinador — Vista</h1>
      <button id="btnSalirCoordinador" style="float:right;background:#718096;">Salir</button>
    </header>
    <div class="card" style="max-width:600px;margin:0 auto;">
      <label for="filtroDia">Filtrar por día</label>
      <input id="filtroDia" type="date" />
      <label for="filtroZona">Filtrar por zona</label>
      <input id="filtroZona" type="text" autocomplete="off" />
      <div id="filtroZona-sugerencias" class="sugerencias"></div>
      <label for="filtroTurno">Filtrar por turno</label>
      <select id="filtroTurno">
        <option value="">-- Todos los turnos --</option>
        <option>Mañana</option>
        <option>Tarde</option>
        <option>Noche</option>
      </select>
      <div style="display:flex;gap:8px;margin-top:10px">
        <button id="btnVerTodos" class="small">Ver todos</button>
        <button id="btnDescargarPDF" class="small" style="background:#38a169">Descargar PDF</button>
        <button id="btnBorrarTodo" class="small btn-borrar-todo">Borrar todo</button>
      </div>
      <hr />
      <div id="listadoContainer" style="max-height:460px;overflow:auto"></div>
    </div>
    <div class="card" style="max-width:600px;margin:20px auto;">
      <h3>Chat con Psicólogos</h3>
      <label for="selectPsico">Selecciona psicólogo:</label>
      <select id="selectPsico" style="width:100%;margin-bottom:10px"></select>
      <div id="chatCoord" class="chat"></div>
      <input id="msgCoord" type="text" placeholder="Escribe tu mensaje..." style="width:80%" />
      <button id="btnSendCoord" class="small">Enviar</button>
    </div>
  </div>
</body>
</html>
